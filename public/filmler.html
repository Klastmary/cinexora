<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filmler - Film Sitesi</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/filmler.css">
    <link rel="stylesheet" href="/css/modal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <a href="/">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="20" cy="20" r="18" fill="url(#gradient1)"/>
                            <path d="M15 12 L25 20 L15 28 Z" fill="#fff"/>
                            <circle cx="20" cy="20" r="18" stroke="#e50914" stroke-width="2" fill="none"/>
                            <defs>
                                <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#e50914;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#8b0000;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                        </svg>
                        <span>Cinexora</span>
                    </a>
                    <div class="lang-switcher">
                        <button class="lang-btn active" data-lang="tr" onclick="changeLanguage('tr')" title="Türkçe">
                            <img src="https://flagcdn.com/w40/tr.png" alt="TR" width="24" height="18">
                        </button>
                        <button class="lang-btn" data-lang="en" onclick="changeLanguage('en')" title="English">
                            <img src="https://flagcdn.com/w40/gb.png" alt="EN" width="24" height="18">
                        </button>
                    </div>
                </div>
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link" data-lang-key="home">Anasayfa</a></li>
                    <li><a href="/filmler.html" class="nav-link active" data-lang-key="movies">Filmler</a></li>
                    <li><a href="/kategoriler.html" class="nav-link" data-lang-key="categories">Kategoriler</a></li>
                    <li><a href="/hakkimizda.html" class="nav-link" data-lang-key="about">Hakkımızda</a></li>
                </ul>
                <div class="nav-right">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Film ara..." data-lang-key="searchPlaceholder">
                        <i class="fas fa-search"></i>
                    </div>
                    <div id="authButtons">
                        <button class="btn-login" onclick="openLoginModal()">
                            <i class="fas fa-user"></i> <span data-lang-key="login">Giriş</span>
                        </button>
                        <button class="btn-register" onclick="openRegisterModal()">
                            <span data-lang-key="register">Kayıt Ol</span>
                        </button>
                    </div>
                    <div id="userMenu" style="display: none; position: relative;">
                        <button class="btn-login" onclick="toggleUserDropdown()" style="display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-user-circle"></i>
                            <span id="headerUsername">Kullanıcı</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div id="userDropdown" style="display: none; position: absolute; top: 100%; right: 0; margin-top: 10px; background: var(--card-bg); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); min-width: 200px; z-index: 1000;">
                            <a href="/profil.html" style="display: flex; align-items: center; gap: 10px; padding: 12px 20px; color: var(--text-color); text-decoration: none;"><i class="fas fa-user"></i> <span data-lang-key="profile">Profilim</span></a>
                            <a href="/favoriler.html" style="display: flex; align-items: center; gap: 10px; padding: 12px 20px; color: var(--text-color); text-decoration: none;"><i class="fas fa-heart"></i> <span data-lang-key="favorites">Favorilerim</span></a>
                            <a href="/izleme-listesi.html" style="display: flex; align-items: center; gap: 10px; padding: 12px 20px; color: var(--text-color); text-decoration: none;"><i class="fas fa-list"></i> <span data-lang-key="watchlist">İzleme Listem</span></a>
                            <a href="/admin.html" id="adminLink" style="display: none; align-items: center; gap: 10px; padding: 12px 20px; color: var(--text-color); text-decoration: none;"><i class="fas fa-shield-alt"></i> <span data-lang-key="adminPanel">Admin Panel</span></a>
                            <a href="#" onclick="logout()" style="display: flex; align-items: center; gap: 10px; padding: 12px 20px; color: var(--text-color); text-decoration: none; border-top: 1px solid #333;"><i class="fas fa-sign-out-alt"></i> <span data-lang-key="logout">Çıkış Yap</span></a>
                        </div>
                    </div>
                </div>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Filmler Section -->
    <section class="films-page">
        <div class="container">
            <div class="page-header">
                <h1><i class="fas fa-film"></i> <span data-lang-key="allMovies">Tüm Filmler</span></h1>
                <p data-lang-key="discoverBest">En iyi filmleri keşfedin</p>
            </div>

            <!-- Filtreler -->
            <div class="filters-section">
                <div class="filter-group">
                    <label><i class="fas fa-th-large"></i> <span data-lang-key="category">Kategori</span>:</label>
                    <select id="genreFilter">
                        <option value="" data-lang-key="allCategories">Tüm Kategoriler</option>
                        <option value="Action" data-lang-key="action">Aksiyon</option>
                        <option value="Drama" data-lang-key="drama">Drama</option>
                        <option value="Comedy" data-lang-key="comedy">Komedi</option>
                        <option value="Sci-Fi" data-lang-key="sciFi">Bilim Kurgu</option>
                        <option value="Horror" data-lang-key="horror">Korku</option>
                        <option value="Romance" data-lang-key="romance">Romantik</option>
                        <option value="Thriller" data-lang-key="thriller">Gerilim</option>
                        <option value="Crime" data-lang-key="crime">Suç</option>
                        <option value="Adventure" data-lang-key="adventure">Macera</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label><i class="fas fa-calendar"></i> <span data-lang-key="year">Yıl</span>:</label>
                    <select id="yearFilter">
                        <option value="" data-lang-key="allYears">Tüm Yıllar</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                        <option value="2021">2021</option>
                        <option value="2020">2020</option>
                        <option value="2019">2019</option>
                        <option value="2018">2018</option>
                        <option value="2010-2017">2010-2017</option>
                        <option value="2000-2009">2000-2009</option>
                        <option value="1990-1999">1990-1999</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label><i class="fas fa-star"></i> <span data-lang-key="rating">Puan</span>:</label>
                    <select id="ratingFilter">
                        <option value="" data-lang-key="allRatings">Tüm Puanlar</option>
                        <option value="9" data-lang-key="rating9Plus">9+ Üstü</option>
                        <option value="8" data-lang-key="rating8Plus">8+ Üstü</option>
                        <option value="7" data-lang-key="rating7Plus">7+ Üstü</option>
                        <option value="6" data-lang-key="rating6Plus">6+ Üstü</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label><i class="fas fa-sort"></i> <span data-lang-key="sortBy">Sırala</span>:</label>
                    <select id="sortFilter">
                        <option value="createdAt-desc" data-lang-key="newest">En Yeni</option>
                        <option value="rating-desc" data-lang-key="highestRated">En Yüksek Puan</option>
                        <option value="rating-asc" data-lang-key="lowestRated">En Düşük Puan</option>
                        <option value="year-desc" data-lang-key="yearNewOld">Yıl (Yeni-Eski)</option>
                        <option value="year-asc" data-lang-key="yearOldNew">Yıl (Eski-Yeni)</option>
                        <option value="title-asc">A-Z</option>
                        <option value="title-desc">Z-A</option>
                    </select>
                </div>

                <button class="btn-filter-apply" onclick="applyFilters()">
                    <i class="fas fa-filter"></i> <span data-lang-key="applyFilters">Filtreleri Uygula</span>
                </button>
            </div>

            <!-- Film Sayısı -->
            <div class="results-info">
                <span id="resultsCount" data-lang-key="loadingMovies">Filmler yükleniyor...</span>
            </div>

            <!-- Filmler Grid -->
            <div id="filmsContainer" class="films-grid">
                <div class="film-card-skeleton"></div>
                <div class="film-card-skeleton"></div>
                <div class="film-card-skeleton"></div>
                <div class="film-card-skeleton"></div>
                <div class="film-card-skeleton"></div>
                <div class="film-card-skeleton"></div>
            </div>

            <!-- Sayfalama -->
            <div id="pagination" class="pagination"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-film"></i> Cinexora</h3>
                    <p data-lang-key="footerDesc">En iyi film deneyimi için doğru adres.</p>
                </div>
                <div class="footer-section">
                    <h4 data-lang-key="quickLinks">Hızlı Linkler</h4>
                    <ul>
                        <li><a href="/" data-lang-key="home">Anasayfa</a></li>
                        <li><a href="/filmler.html" data-lang-key="movies">Filmler</a></li>
                        <li><a href="/kategoriler.html" data-lang-key="categories">Kategoriler</a></li>
                        <li><a href="/hakkimizda.html" data-lang-key="about">Hakkımızda</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Cinexora. <span data-lang-key="allRightsReserved">Tüm hakları saklıdır</span>.</p>
            </div>
        </div>
    </footer>

    <!-- Film Detay Modal -->
    <div id="filmDetailModal" class="modal">
        <div class="modal-content film-detail-modal">
            <span class="modal-close" onclick="closeFilmDetailModal()">&times;</span>
            <div id="filmDetailContent" class="film-detail-content">
                <!-- Film detayları buraya yüklenecek -->
            </div>
        </div>
    </div>

    <!-- Film Oynatıcı Modal -->
    <div id="moviePlayerModal" class="modal" style="z-index: 10000;">
        <div class="modal-content" style="max-width: 90%; width: 1200px; height: 80vh; padding: 0; background: #000;">
            <div style="background: #1a1a1a; padding: 15px; display: flex; justify-content: space-between; align-items: center;">
                <h2 id="moviePlayerTitle" style="margin: 0; color: #fff; font-size: 18px;">Film</h2>
                <span class="modal-close" onclick="closeMoviePlayer()" style="position: static; color: #fff; font-size: 32px; cursor: pointer;">&times;</span>
            </div>
            <div id="moviePlayerContainer" style="width: 100%; height: calc(100% - 60px);"></div>
        </div>
    </div>

    <script src="/js/lang.js"></script>
    <script src="/js/filmler.js"></script>
    <script src="/js/modal-auth.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/session-monitor.js"></script>
</body>
</html>
